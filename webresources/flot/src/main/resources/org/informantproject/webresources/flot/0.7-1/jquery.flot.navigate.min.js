(function(f){f.fn.drag=function(b,a,d){var e="string"==typeof b?b:"",c=f.isFunction(b)?b:f.isFunction(a)?a:null;0!==e.indexOf("drag")&&(e="drag"+e);d=(b==c?a:d)||{};return c?this.bind(e,d,c):this.trigger(e)};var e=f.event,c=e.special,d=c.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:!1,drop:!0,click:!1},datakey:"dragdata",livekey:"livedrag",add:function(b){var a=f.data(this,d.datakey),g=b.data||{};a.related+=1;!a.live&&b.selector&&(a.live=!0,e.add(this,"draginit."+d.livekey,
d.delegate));f.each(d.defaults,function(b){void 0!==g[b]&&(a[b]=g[b])})},remove:function(){f.data(this,d.datakey).related-=1},setup:function(){if(!f.data(this,d.datakey)){var b=f.extend({related:0},d.defaults);f.data(this,d.datakey,b);e.add(this,"mousedown",d.init,b);this.attachEvent&&this.attachEvent("ondragstart",d.dontstart)}},teardown:function(){f.data(this,d.datakey).related||(f.removeData(this,d.datakey),e.remove(this,"mousedown",d.init),e.remove(this,"draginit",d.delegate),d.textselect(!0),
this.detachEvent&&this.detachEvent("ondragstart",d.dontstart))},init:function(b){var a=b.data,g;if(!(0<a.which&&b.which!=a.which||f(b.target).is(a.not)))if(!a.handle||f(b.target).closest(a.handle,b.currentTarget).length)if(a.propagates=1,a.interactions=[d.interaction(this,a)],a.target=b.target,a.pageX=b.pageX,a.pageY=b.pageY,a.dragging=null,g=d.hijack(b,"draginit",a),a.propagates){if((g=d.flatten(g))&&g.length)a.interactions=[],f.each(g,function(){a.interactions.push(d.interaction(this,a))});a.propagates=
a.interactions.length;!1!==a.drop&&c.drop&&c.drop.handler(b,a);d.textselect(!1);e.add(document,"mousemove mouseup",d.handler,a);return!1}},interaction:function(b,a){return{drag:b,callback:new d.callback,droppable:[],offset:f(b)[a.relative?"position":"offset"]()||{top:0,left:0}}},handler:function(b){var a=b.data;switch(b.type){case !a.dragging&&"mousemove":if(Math.pow(b.pageX-a.pageX,2)+Math.pow(b.pageY-a.pageY,2)<Math.pow(a.distance,2))break;b.target=a.target;d.hijack(b,"dragstart",a);a.propagates&&
(a.dragging=!0);case "mousemove":if(a.dragging){d.hijack(b,"drag",a);if(a.propagates){!1!==a.drop&&c.drop&&c.drop.handler(b,a);break}b.type="mouseup"}case "mouseup":e.remove(document,"mousemove mouseup",d.handler),a.dragging&&(!1!==a.drop&&c.drop&&c.drop.handler(b,a),d.hijack(b,"dragend",a)),d.textselect(!0),!1===a.click&&a.dragging&&(jQuery.event.triggered=!0,setTimeout(function(){jQuery.event.triggered=!1},20),a.dragging=!1)}},delegate:function(b){var a=[],g,k=f.data(this,"events")||{};f.each(k.live||
[],function(k,c){if(0===c.preType.indexOf("drag")&&(g=f(b.target).closest(c.selector,b.currentTarget)[0]))e.add(g,c.origType+"."+d.livekey,c.origHandler,c.data),0>f.inArray(g,a)&&a.push(g)});return!a.length?!1:f(a).bind("dragend."+d.livekey,function(){e.remove(this,"."+d.livekey)})},hijack:function(b,a,g,c,l){if(g){var h=b.originalEvent,j=b.type,q=a.indexOf("drop")?"drag":"drop",m,r=c||0,i,n,c=!isNaN(c)?c:g.interactions.length;b.type=a;b.originalEvent=null;g.results=[];do if((i=g.interactions[r])&&
!("dragend"!==a&&i.cancelled))n=d.properties(b,g,i),i.results=[],f(l||i[q]||g.droppable).each(function(c,k){m=(n.target=k)?e.handle.call(k,b,n):null;!1===m?("drag"==q&&(i.cancelled=!0,g.propagates-=1),"drop"==a&&(i[q][c]=null)):"dropinit"==a&&i.droppable.push(d.element(m)||k);"dragstart"==a&&(i.proxy=f(d.element(m)||i.drag)[0]);i.results.push(m);delete b.result;if("dropinit"!==a)return m}),g.results[r]=d.flatten(i.results),"dropinit"==a&&(i.droppable=d.flatten(i.droppable)),"dragstart"==a&&!i.cancelled&&
n.update();while(++r<c);b.type=j;b.originalEvent=h;return d.flatten(g.results)}},properties:function(b,a,e){var c=e.callback;c.drag=e.drag;c.proxy=e.proxy||e.drag;c.startX=a.pageX;c.startY=a.pageY;c.deltaX=b.pageX-a.pageX;c.deltaY=b.pageY-a.pageY;c.originalX=e.offset.left;c.originalY=e.offset.top;c.offsetX=b.pageX-(a.pageX-c.originalX);c.offsetY=b.pageY-(a.pageY-c.originalY);c.drop=d.flatten((e.drop||[]).slice());c.available=d.flatten((e.droppable||[]).slice());return c},element:function(b){if(b&&
(b.jquery||1==b.nodeType))return b},flatten:function(b){return f.map(b,function(a){return a&&a.jquery?f.makeArray(a):a&&a.length?d.flatten(a):a})},textselect:function(b){f(document)[b?"unbind":"bind"]("selectstart",d.dontstart).attr("unselectable",b?"off":"on").css("MozUserSelect",b?"":"none")},dontstart:function(){return!1},callback:function(){}};d.callback.prototype={update:function(){c.drop&&this.available.length&&f.each(this.available,function(b){c.drop.locate(this,b)})}};c.draginit=c.dragstart=
c.dragend=d})(jQuery);
(function(f){function e(b){var a=b||window.event,e=[].slice.call(arguments,1),c=0,d=0,h=0,b=f.event.fix(a);b.type="mousewheel";a.wheelDelta&&(c=a.wheelDelta/120);a.detail&&(c=-a.detail/3);h=c;void 0!==a.axis&&a.axis===a.HORIZONTAL_AXIS&&(h=0,d=-1*c);void 0!==a.wheelDeltaY&&(h=a.wheelDeltaY/120);void 0!==a.wheelDeltaX&&(d=-1*a.wheelDeltaX/120);e.unshift(b,c,d,h);return(f.event.dispatch||f.event.handle).apply(this,e)}var c=["DOMMouseScroll","mousewheel"];if(f.event.fixHooks)for(var d=c.length;d;)f.event.fixHooks[c[--d]]=
f.event.mouseHooks;f.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var b=c.length;b;)this.addEventListener(c[--b],e,!1);else this.onmousewheel=e},teardown:function(){if(this.removeEventListener)for(var b=c.length;b;)this.removeEventListener(c[--b],e,!1);else this.onmousewheel=null}};f.fn.extend({mousewheel:function(b){return b?this.bind("mousewheel",b):this.trigger("mousewheel")},unmousewheel:function(b){return this.unbind("mousewheel",b)}})})(jQuery);
(function(f){f.plot.plugins.push({init:function(e){function c(a,b){var c=e.offset();c.left=a.pageX-c.left;c.top=a.pageY-c.top;b?e.zoomOut({center:c}):e.zoom({center:c})}function d(a,b){c(a,0>b);return!1}function b(a){if(1!=a.which)return!1;var b=e.getPlaceholder().css("cursor");b&&(k=b);e.getPlaceholder().css("cursor",e.getOptions().pan.cursor);l=a.pageX;h=a.pageY}function a(a){var b=e.getOptions().pan.frameRate;!j&&b&&(j=setTimeout(function(){e.pan({left:l-a.pageX,top:h-a.pageY});l=a.pageX;h=a.pageY;
j=null},1E3*(1/b)))}function g(a){j&&(clearTimeout(j),j=null);e.getPlaceholder().css("cursor",k);e.pan({left:l-a.pageX,top:h-a.pageY})}var k="default",l=0,h=0,j=null;e.zoomOut=function(a){a||(a={});a.amount||(a.amount=e.getOptions().zoom.amount);a.amount=1/a.amount;e.zoom(a)};e.zoom=function(a){a||(a={});var b=a.center,c=a.amount||e.getOptions().zoom.amount,d=e.width(),g=e.height();b||(b={left:d/2,top:g/2});var o=b.left/d,h=b.top/g,p={x:{min:b.left-o*d/c,max:b.left+(1-o)*d/c},y:{min:b.top-h*g/c,max:b.top+
(1-h)*g/c}};0.9<o&&1<c&&(p.x.max=d);0.1>o&&1<c&&(p.x.min=0);f.each(e.getAxes(),function(a,b){var c=b.options,e=p[b.direction].min,d=p[b.direction].max,f=c.zoomRange;if(!1!==f){e=b.c2p(e);d=b.c2p(d);if(e>d)var g=e,e=d,d=g;f&&null!=f[0]&&e<f[0]&&(e=f[0]);f&&null!=f[1]&&d>f[1]&&(d=f[1]);c.min=e;c.max=d}});e.setupGrid();e.draw();a.preventEvent||e.getPlaceholder().trigger("plotzoom",[e])};e.pan=function(a){var b={x:+a.left,y:+a.top};isNaN(b.x)&&(b.x=0);isNaN(b.y)&&(b.y=0);f.each(e.getAxes(),function(a,
c){var e=c.options,d,f,g=b[c.direction];d=c.c2p(c.p2c(c.min)+g);f=c.c2p(c.p2c(c.max)+g);var h=e.panRange;!1!==h&&(h&&(null!=h[0]&&h[0]>d&&(g=h[0]-d,d+=g,f+=g),null!=h[1]&&h[1]<f&&(g=h[1]-f,d+=g,f+=g)),e.min=d,e.max=f)});e.setupGrid();e.draw();a.preventEvent||e.getPlaceholder().trigger("plotpan",[e])};e.hooks.bindEvents.push(function(e,f){var h=e.getOptions();h.zoom.interactive&&(f[h.zoom.trigger](c),f.mousewheel(d));h.pan.interactive&&(f.bind("dragstart",{distance:10},b),f.bind("drag",a),f.bind("dragend",
g))});e.hooks.shutdown.push(function(e,f){f.unbind(e.getOptions().zoom.trigger,c);f.unbind("mousewheel",d);f.unbind("dragstart",b);f.unbind("drag",a);f.unbind("dragend",g);j&&clearTimeout(j)})},options:{xaxis:{zoomRange:null,panRange:null},zoom:{interactive:!1,trigger:"dblclick",amount:1.5},pan:{interactive:!1,cursor:"move",frameRate:20}},name:"navigate",version:"1.3"})})(jQuery);